import{b as a,d as b,w as f,j as e}from"./index-j3DckD_T.js";function g(){const{allData:m,changeAmount:l,cartTitle:u,deleteProdutc:x}=a.useContext(b),{changeAmountSelete:h}=a.useContext(f),o=()=>u.map(s=>({...m.find(r=>r.title===Object.keys(s)[0]),amount:Object.values(s)[0]}));let n=o(),j=n.reduce((t,s)=>t+s.price*s.amount,0);return a.useEffect(()=>{o()},[]),e.jsxs("div",{className:"Cart container sec_con",children:[e.jsx("div",{className:"title_sec",children:e.jsx("p",{children:"Cart "})}),e.jsx("div",{className:"row",children:n.length>0?e.jsxs(e.Fragment,{children:[n.map((t,s)=>{const c=(t.stock||t.rating.count)-(t.amount??0);console.log(t.amount);const r=Array(t.stock||t.rating.count).fill(0).map((d,p)=>{let i=p+1;return e.jsx("option",{value:i,children:i},i)});return e.jsx("div",{className:"col-12 mt-2",children:e.jsxs("div",{className:"pro col-12 flex shadow justify-content-between p-3 bg-white rounded",children:[e.jsx("div",{children:e.jsx("img",{src:t.image||t.thumbnail||t.img,alt:"",style:{with:"100px",height:"100px"}})}),e.jsx("div",{children:e.jsx("p",{className:"m-0 p-0 fs-5 text-center",children:t.title.slice(0,18)})}),e.jsxs("div",{children:[e.jsxs("p",{className:"m-0 fs-5 p-0",children:["price : $",t.price]}),e.jsxs("p",{className:"m-0 fs-5 p-0",children:["Totallprice : $",(t.price*t.amount).toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l("plus",t.title),disabled:c<=0,className:"btn btn-dark text-white btn-sm rounded-cricle",children:"+"}),e.jsx("span",{className:"amount_cart",children:t.amount}),e.jsx("button",{onClick:()=>l("minus",t.title),disabled:c>=(t.stock||t.rating.count),className:"btn btn-dark text-white btn-sm rounded-cricle",children:"-"}),e.jsx("select",{onChange:d=>h(d,t.title),value:t.amount,children:r})]}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-danger",onClick:()=>x(t.title),children:"Remove Product"})})]})},s)}),e.jsx("div",{className:"col-8 offset-2 mt-4",children:e.jsxs("div",{className:"border border-dark flex shadow justify-content-between p-3 bg-white rounded",children:[e.jsx("b",{className:"fs-4",children:"Totall : "}),e.jsxs("b",{className:"fs-4",children:["$",j.toFixed(2)]})]})})]}):e.jsx("div",{className:"text-danger fs-1  text-center",children:" There Is Not Products Here "})})]})}export{g as default};
